<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ±¤å§†Â·ç´¢äºšå†é™©è®° - å¬åŠ›ç‰¹è®­ Ch.2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    
    <style>
        body { background-color: #f0f9ff; font-family: 'Segoe UI', Tahoma, sans-serif; -webkit-tap-highlight-color: transparent; }
        .input-blank { border-bottom: 2px solid #94a3b8; background: transparent; text-align: center; color: #2563eb; font-weight: bold; border-radius: 0; padding: 0 5px; transition: all 0.3s; }
        .input-blank:focus { border-color: #3b82f6; outline: none; background-color: rgba(59, 130, 246, 0.1); }
        .correct-input { border-color: #22c55e !important; color: #16a34a !important; background-color: #f0fdf4 !important; }
        .wrong-input { border-color: #ef4444 !important; color: #dc2626 !important; background-color: #fef2f2 !important; }
        .explanation-box { background-color: #f1f5f9; border-left: 4px solid #3b82f6; padding: 12px; margin-top: 8px; font-size: 0.9rem; color: #334155; border-radius: 4px; line-height: 1.6; }
    </style>
</head>

<body class="pb-16">

<div id="cover-page" class="fixed inset-0 z-50 bg-gradient-to-b from-blue-500 to-indigo-700 flex flex-col items-center justify-center p-6 text-white text-center">
    <div class="w-32 h-32 bg-white/20 rounded-3xl backdrop-blur-md flex items-center justify-center mb-6 shadow-2xl">
        <i class="fas fa-paint-brush text-5xl text-yellow-300"></i>
    </div>
    <h1 class="text-3xl font-black mb-2 tracking-tight">æ±¤å§†Â·ç´¢äºšå†é™©è®°</h1>
    <p class="text-blue-100 mb-8 opacity-80">å…­å¹´çº§è‹±è¯­Â·è·¨å­¦ç§‘å¬åŠ›ç‰¹è®­</p>
    
    <div class="bg-white/10 backdrop-blur-md rounded-2xl p-4 mb-10 w-full max-w-xs border border-white/20">
        <div class="flex justify-between text-xs mb-2 text-left">
            <span>å½“å‰ç« èŠ‚</span>
            <span class="font-bold text-yellow-300">Chapter 2</span>
        </div>
        <div class="h-1.5 w-full bg-white/20 rounded-full overflow-hidden">
            <div class="h-full bg-yellow-400" style="width: 6%"></div>
        </div>
    </div>

    <button onclick="startChallenge()" class="w-full max-w-xs bg-white text-blue-600 font-bold py-4 rounded-2xl shadow-xl active:scale-95 transition-transform text-lg">
        å¼€å§‹åˆ·å¢™æŒ‘æˆ˜
    </button>
</div>

<header class="bg-white shadow-sm sticky top-0 z-20 px-4 py-3 flex justify-between items-center text-left">
    <h1 class="text-lg font-bold text-slate-800"><i class="fas fa-headphones text-blue-500 mr-2"></i>Tom Sawyer (Ch.2)</h1>
    <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">Grade 6</span>
</header>

<main class="px-4 mt-4 max-w-md mx-auto">
    <div class="bg-white rounded-2xl shadow-lg p-5 mb-6 border border-blue-100">
        <h2 class="font-bold text-slate-700 mb-3 text-left">Step 1: Listen</h2>
        <audio controls class="w-full h-10 mb-4 rounded bg-slate-100">
            <source src="tom2.wav" type="audio/wav">
        </audio>

        <details class="group text-left">
            <summary class="flex items-center justify-between cursor-pointer list-none text-sm text-blue-600 font-bold bg-blue-50 p-3 rounded-lg hover:bg-blue-100 transition">
                <span>ğŸ“– ç‚¹å‡»æŸ¥çœ‹ç¬¬äºŒç« åŸæ–‡</span>
                <i class="fas fa-chevron-down transition group-open:rotate-180"></i>
            </summary>
          <div class="mt-2 text-sm text-slate-700 leading-relaxed bg-slate-50 p-4 rounded-lg border border-slate-200 font-serif h-64 overflow-y-auto text-left">
<p class="mb-3"><strong class="text-slate-900">Narrator:</strong> It is a bright Saturday morning. But Tom is not happy. He stands in front of a long fence with a big bucket of whitewash. He has to paint the whole fence!</p>
<p class="mb-3"><strong class="text-slate-900">Narrator:</strong> Ben Rogers comes down the street. He is eating a juicy apple. He is pretending to be a big steamboat.</p>
<p class="mb-3"><strong class="text-slate-900">Ben:</strong> Stop the ship! Ting-a-ling! Hello, Tom! You have to work today? That is too bad!</p>
<p class="mb-3"><strong class="text-slate-900">Narrator:</strong> Tom looks at the fence. He paints it very carefully, like an artist.</p>
<p class="mb-3"><strong class="text-slate-900">Tom:</strong> Work? This isn't work, Ben. Does a boy get a chance to whitewash a fence every day?</p>
<p class="mb-3"><strong class="text-slate-900">Narrator:</strong> Ben stops eating his apple. He looks interested.</p>
<p class="mb-3"><strong class="text-slate-900">Ben:</strong> Tom, let me paint a little? Please?</p>
<p class="mb-3"><strong class="text-slate-900">Tom:</strong> No, no. Aunt Polly is very strict. This fence must be perfect.</p>
<p class="mb-3"><strong class="text-slate-900">Ben:</strong> Oh, please, Tom! I will give you my apple!</p>
<p class="mb-3"><strong class="text-slate-900">Narrator:</strong> Tom takes the apple. He sits in the shade and eats it. Ben works hard in the hot sun. Soon, more boys come. They all pay Tom with toys to paint the fence. By the afternoon, the fence has three coats of paint, and Tom is rich!</p>
</div>
        </details>
    </div>

<form id="quizForm" onsubmit="submitQuiz(event)">
    <div class="bg-white rounded-2xl shadow-md p-5 mb-5 border-l-4 border-blue-500 relative text-left">
        <span class="absolute top-0 right-0 bg-blue-100 text-blue-600 text-xs font-bold px-2 py-1 rounded-bl-lg">60åˆ†</span>
        <h3 class="font-bold text-slate-800 mb-4">Task 1: Fill in the blanks</h3>
        <div class="space-y-8 text-base text-slate-700 leading-loose">
            <div>
                <div>1. Tom has to <input type="text" id="q1_1" autocomplete="off" class="input-blank w-24" placeholder="?"> the long <input type="text" id="q1_2" autocomplete="off" class="input-blank w-16" placeholder="?">.</div>
                <div id="exp_q1" class="hidden mt-2 p-3 bg-blue-50 text-xs text-blue-800 rounded-xl border border-blue-100"></div>
            </div>
            <div>
                <div>2. Ben gives Tom a juicy <input type="text" id="q2" autocomplete="off" class="input-blank w-20" placeholder="?">.</div>
                <div id="exp_q2" class="hidden mt-2 p-3 bg-blue-50 text-xs text-blue-800 rounded-xl border border-blue-100"></div>
            </div>
            <div>
                <div>3. Tom says painting the fence is not <input type="text" id="q3" autocomplete="off" class="input-blank w-20" placeholder="?">.</div>
                <div id="exp_q3" class="hidden mt-2 p-3 bg-blue-50 text-xs text-blue-800 rounded-xl border border-blue-100"></div>
            </div>
            <div>
                <div>4. Tom sits in the <input type="text" id="q4" autocomplete="off" class="input-blank w-20" placeholder="?"> and eats the apple.</div>
                <div id="exp_q4" class="hidden mt-2 p-3 bg-blue-50 text-xs text-blue-800 rounded-xl border border-blue-100"></div>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-2xl shadow-md p-5 mb-8 border-l-4 border-purple-500 relative text-left">
        <span class="absolute top-0 right-0 bg-purple-100 text-purple-600 text-xs font-bold px-2 py-1 rounded-bl-lg">40åˆ†</span>
        <h3 class="font-bold text-slate-800 mb-4 text-left">Task 2: True (T) or False (F)</h3>
        <div class="space-y-6">
            <div>
                <p class="text-sm font-medium mb-2">1. Tom is very happy to paint the fence at first.</p>
                <div class="flex gap-6">
                    <label class="flex items-center"><input type="radio" name="tf1" value="T" class="mr-1 w-5 h-5"> T</label>
                    <label class="flex items-center"><input type="radio" name="tf1" value="F" class="mr-1 w-5 h-5"> F</label>
                </div>
                <div id="exp_tf1" class="hidden mt-2 p-3 bg-purple-50 text-xs text-purple-800 rounded-xl border border-purple-100"></div>
            </div>
            <div>
                <p class="text-sm font-medium mb-2">2. Ben pretends to be a steamboat in the street.</p>
                <div class="flex gap-6">
                    <label class="flex items-center"><input type="radio" name="tf2" value="T" class="mr-1 w-5 h-5"> T</label>
                    <label class="flex items-center"><input type="radio" name="tf2" value="F" class="mr-1 w-5 h-5"> F</label>
                </div>
                <div id="exp_tf2" class="hidden mt-2 p-3 bg-purple-50 text-xs text-purple-800 rounded-xl border border-purple-100"></div>
            </div>
            <div>
                <p class="text-sm font-medium mb-2">3. Tom gives Ben money to help him paint.</p>
                <div class="flex gap-6">
                    <label class="flex items-center"><input type="radio" name="tf3" value="T" class="mr-1 w-5 h-5"> T</label>
                    <label class="flex items-center"><input type="radio" name="tf3" value="F" class="mr-1 w-5 h-5"> F</label>
                </div>
                <div id="exp_tf3" class="hidden mt-2 p-3 bg-purple-50 text-xs text-purple-800 rounded-xl border border-purple-100"></div>
            </div>
            <div>
                <p class="text-sm font-medium mb-2">4. Many boys help Tom, and the fence is painted 3 times.</p>
                <div class="flex gap-6">
                    <label class="flex items-center"><input type="radio" name="tf4" value="T" class="mr-1 w-5 h-5"> T</label>
                    <label class="flex items-center"><input type="radio" name="tf4" value="F" class="mr-1 w-5 h-5"> F</label>
                </div>
                <div id="exp_tf4" class="hidden mt-2 p-3 bg-purple-50 text-xs text-purple-800 rounded-xl border border-purple-100"></div>
            </div>
        </div>
    </div>

    <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-transform text-lg mb-8">
        äº¤å· (Submit)
    </button>
</form>
        </button>
    </form>
</main>

<script>
// ğŸ”‘ ç¬¬äºŒç«  ç­”æ¡ˆåº“
const answers = {
    q1_1: ["paint", "whitewash"], q1_2: ["fence"],
    q2: ["apple"],
    q3: ["work"],
    q4: ["shade"],
    tf1: "F", tf2: "T", tf3: "F", tf4: "T"
};

const explanations = {
    q1: "âœ… <b>åŸæ–‡å®šä½:</b> He has to paint the whole <b>fence</b> with <b>whitewash</b>.",
    q2: "âœ… <b>åŸæ–‡å®šä½:</b> Ben gives Tom a juicy <b>apple</b> to paint a little.",
    q3: "âœ… <b>åŸæ–‡å®šä½:</b> Work? This isn't <b>work</b>, Ben.",
    q4: "âœ… <b>åŸæ–‡å®šä½:</b> Tom sits in the <b>shade</b> and eats the apple.",
    tf1: "âŒ <b>False.</b> æ±¤å§†ä¸€å¼€å§‹å¹¶ä¸å¼€å¿ƒ (not happy)ã€‚",
    tf2: "âœ… <b>True.</b> æœ¬å‡è£…è‡ªå·±æ˜¯ä¸€è‰˜è’¸æ±½èˆ¹ (steamboat)ã€‚",
    tf3: "âŒ <b>False.</b> æ˜¯æœ¬ç»™æ±¤å§†è‹¹æœï¼Œè€Œä¸æ˜¯æ±¤å§†ç»™æœ¬é’±ã€‚",
    tf4: "âœ… <b>True.</b> æœ€åå›´æ è¢«åˆ·äº†ä¸‰æ¬¡ (three coats of paint)ã€‚"
};

function startChallenge() {
    document.getElementById('cover-page').style.display = 'none';
    window.scrollTo(0, 0);
}

function closePoster() {
    document.getElementById('poster-modal').classList.add('hidden');
}

function submitQuiz(e) {
    e.preventDefault();
    let fillCorrect = 0; // å¡«ç©ºå¯¹äº†å‡ ç»„
    let tfCorrect = 0;   // åˆ¤æ–­å¯¹äº†å‡ é¢˜

    // --- 1. æ£€æŸ¥å¡«ç©ºé¢˜ (æ¯å¯¹ä¸€ç»„ 15 åˆ†) ---
    function checkBlank(ids, expId) {
        let allCorrect = true;
        ids.forEach(id => {
            let el = document.getElementById(id);
            if (el) {
                let val = el.value.trim().toLowerCase();
                // å…¼å®¹ paint å’Œ whitewash
                if (answers[id] && answers[id].includes(val)) {
                    el.classList.add('correct-input');
                    el.classList.remove('wrong-input');
                } else {
                    el.classList.add('wrong-input');
                    el.classList.remove('correct-input');
                    allCorrect = false;
                }
            }
        });
        // æ˜¾ç¤ºè§£æ
        let expDiv = document.getElementById('exp_' + expId);
        if (expDiv) {
            expDiv.innerHTML = explanations[expId];
            expDiv.classList.remove('hidden');
        }
        if (allCorrect) fillCorrect++;
    }

    // è¿™ä¸€æ­¥å¿…é¡»å’Œ HTML é‡Œçš„ ID å®Œå…¨å¯¹åº”ï¼
    checkBlank(['q1_1', 'q1_2'], 'q1'); // æ£€æŸ¥ç¬¬ä¸€é¢˜çš„ä¸¤ä¸ªç©º
    checkBlank(['q2'], 'q2');           // æ£€æŸ¥ç¬¬äºŒé¢˜
    checkBlank(['q3'], 'q3');           // æ£€æŸ¥ç¬¬ä¸‰é¢˜
    checkBlank(['q4'], 'q4');           // æ£€æŸ¥ç¬¬å››é¢˜

    // --- 2. æ£€æŸ¥åˆ¤æ–­é¢˜ (æ¯å¯¹ä¸€é¢˜ 10 åˆ†) ---
    ['tf1', 'tf2', 'tf3', 'tf4'].forEach(name => {
        let sel = document.querySelector(`input[name="${name}"]:checked`);
        let expDiv = document.getElementById('exp_' + name);
        if (expDiv) {
            if (sel && sel.value === answers[name]) {
                tfCorrect++;
                expDiv.innerHTML = `<span class="text-green-600 font-bold">å›ç­”æ­£ç¡®ï¼</span><br>` + explanations[name];
            } else {
                expDiv.innerHTML = `<span class="text-red-600 font-bold">å›ç­”é”™è¯¯ã€‚</span><br>` + explanations[name];
            }
            expDiv.classList.remove('hidden');
        }
    });

    // --- 3. è®¡ç®—æ€»åˆ†å¹¶æ˜¾ç¤ºæµ·æŠ¥ ---
    let totalScore = (fillCorrect * 15) + (tfCorrect * 10);
    localStorage.setItem('tom_ch2_done', 'true'); // å­˜å…¥é€šå…³å‹‹ç« 

    document.getElementById('poster-score').innerText = totalScore + " / 100";
    document.getElementById('poster-modal').classList.remove('hidden');
    window.scrollTo(0, 0);
}

function downloadPoster() {
    const poster = document.getElementById('poster-content');
    html2canvas(poster, { useCORS: true, scale: 3, backgroundColor: '#ffffff' }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'å¤šå¤šæ±¤å§†ç´¢äºšCh2å‹‹ç« .png';
        link.href = canvas.toDataURL('image/png');
        link.click();
    });
}
</script>

<div id="poster-modal" class="hidden fixed inset-0 bg-slate-900/90 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white w-full max-w-sm rounded-3xl overflow-hidden shadow-2xl relative">
       <div class="bg-gradient-to-r from-orange-400 to-red-500 pt-8 pb-12 text-center text-white relative">
    <div class="text-[10px] uppercase tracking-[0.2em] opacity-80 mb-2">Achievement Unlocked</div>
    
    <div class="relative inline-block mb-2">
        <div class="w-24 h-24 bg-black/10 rounded-full flex items-center justify-center backdrop-blur-md border-2 border-white/40 shadow-inner">
            <span id="poster-score" class="text-2xl font-black text-white drop-shadow-md">0 / 100</span>
        </div>
        <div class="absolute -bottom-1 -right-1 w-9 h-9 bg-white rounded-full flex items-center justify-center shadow-xl border-2 border-orange-100">
            <i class="fas fa-trophy text-orange-500 text-base"></i>
        </div>
    </div>
    
    <h2 class="text-xl font-black tracking-tight mt-2">æŒ‘æˆ˜æˆåŠŸ Â· è£èª‰å‹‹ç« </h2>
</div>

        <div class="px-6 -mt-6">
            <div class="bg-white rounded-2xl shadow-xl p-5 border border-slate-50">
                <div class="flex items-center gap-3 mb-6 border-b border-slate-50 pb-4 text-left">
                    <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 border-2 border-orange-50">
                        <i class="fas fa-user-graduate text-xl"></i>
                    </div>
                    <div>
                        <div class="flex items-center gap-2">
                            <span class="font-black text-slate-800 text-lg">å¤šå¤š</span>
                            <span class="text-[10px] bg-blue-50 text-blue-500 px-2 py-0.5 rounded-full font-bold">å…­å¹´çº§</span>
                        </div>
                        <div class="text-[10px] text-slate-400 mt-0.5">
                            <i class="far fa-clock"></i> 2026å¹´2æœˆ Â· ç¬¬äºŒç« è¾¾æˆ
                        </div>
                    </div>
                </div>

                <div class="space-y-5 text-left">
                    <div>
                        <div class="text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-wider italic">Material</div>
                        <div class="text-sm font-bold text-slate-700">ã€Šæ±¤å§†Â·ç´¢äºšå†é™©è®°ã€‹Â· ç¬¬äºŒç« </div>
                    </div>

                    <div>
                        <div class="text-[10px] font-bold text-slate-400 mb-2 flex items-center gap-1">
                            <i class="fas fa-book-open"></i> æ ¸å¿ƒè¯æ±‡ (Key Vocab)
                        </div>
                        <div class="grid grid-cols-2 gap-3" id="vocab-list">
                            <div class="bg-blue-50/50 p-2.5 rounded-xl border border-blue-100/50">
                                <div class="text-sm font-black text-blue-700">whitewash</div>
                                <div class="text-[10px] text-blue-500/80 italic">ç²‰åˆ·/ç™½ç°æ°´</div>
                            </div>
                            <div class="bg-orange-50/50 p-2.5 rounded-xl border border-orange-100/50">
                                <div class="text-sm font-black text-orange-700">fence</div>
                                <div class="text-[10px] text-orange-500/80 italic">ç¯±ç¬†/æ …æ </div>
                            </div>
                            <div class="bg-green-50/50 p-2.5 rounded-xl border border-green-100/50">
                                <div class="text-sm font-black text-green-700">steamboat</div>
                                <div class="text-[10px] text-green-500/80 italic">æ±½è½®/è½®èˆ¹</div>
                            </div>
                            <div class="bg-purple-50/50 p-2.5 rounded-xl border border-purple-100/50">
                                <div class="text-sm font-black text-purple-700">strict</div>
                                <div class="text-[10px] text-purple-500/80 italic">ä¸¥æ ¼çš„/ä¸¥å‰çš„</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="p-6 flex flex-col gap-3">
            <button onclick="downloadPoster()" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-transform">
                <i class="fas fa-cloud-download-alt text-orange-400"></i>
                ä¿å­˜å‹‹ç« æµ·æŠ¥
            </button>
            <button onclick="closePoster()" class="w-full text-slate-400 py-2 text-xs font-bold hover:text-slate-600 transition">
                æš‚æ—¶å…³é—­
            </button>
        </div>
    </div>
</div>

</body>

</html>













